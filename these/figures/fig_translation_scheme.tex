\begin{figure}[tb]
  \hspace{-5mm}
  \begin{center}
  \begin{tikzpicture}[align=left]
    %% f
    \node (box-f) [func] {
      \lstinline|fassume(f_precond(...));|\\ \texttt{g();} \\ ...};
    \path (box-f)+(0,3em) node (pre-f) [pre] {\{Pre\}};
    \path (box-f)+(0,-3em) node (post-f) [post] {\{Post\}};
    \node [below=.1cm of post-f] {FUT $f$};
    %% f_precond
    \node (f-precond) [precond,above=.6cm of pre-f] {};
    \node [below=.1mm of f-precond] {\scriptsize $f\_precond$};
    %% link between f and f_precond
    \path (box-f.west)+(-.1,2.4) node (anchor-pre-f) {};
    \path (box-f.west)+(1.3,2.4) node (anchor-pre-f-2) {};
    \path [draw, -] (pre-f.west) -| (anchor-pre-f.west);
    \path [draw, ->] (anchor-pre-f.west)
    -- node [above] {} (anchor-pre-f-2.east);
    %% f_post
    \path (box-f.west)+(-.1,-.4) node (anchor-post-f) {};
    \path (box-f.west)+(0,-.4) node (anchor-post-f-2) {};
    \path [draw, -] (post-f.west) -| (anchor-post-f.west);
    \path [draw, ->] (anchor-post-f.west)
    -- node [above] {} (anchor-post-f-2.east);

    %% g1
    \node (box-g1) [func,right=.4cm of box-f] {
      \lstinline|fassert(g_precond(...));|\\  ~\\ ...};
    \path (box-g1)+(0,3em) node (pre-g1) [pre] {\{Pre\}};
    \path (box-g1)+(0,-3em) node (post-g1) [post] {\{Post\}};
    \node [below=.1cm of post-g1] {callee $g$};
    %% g1_precond
    \node (g1-precond) [precond,above=.6cm of pre-g1] {};
    \node [below=.1mm of g1-precond] {\scriptsize $g\_precond$};
    %% link between g1 and g1_precond
    \path (box-g1.west)+(-.1,2.4) node (anchor-pre-g1) {};
    \path (box-g1.west)+(1.3,2.4) node (anchor-pre-g1-2) {};
    \path [draw, -] (pre-g1.west) -| (anchor-pre-g1.west);
    \path [draw, ->] (anchor-pre-g1.west)
    -- node [above] {} (anchor-pre-g1-2.east);
    %% g1_post
    \path (box-g1.west)+(-.1,-.4) node (anchor-post-g1) {};
    \path (box-g1.west)+(0,-.4) node (anchor-post-g1-2) {};
    \path [draw, -] (post-g1.west) -| (anchor-post-g1.west);
    \path [draw, ->] (anchor-post-g1.west)
    -- node [above] {} (anchor-post-g1-2.east);
  \end{tikzpicture}
  \vspace{-8mm}
  \caption{Pre-Post translation scheme for the FUT and called functions} \label{fig:pre-post}
  \end{center}
  \vspace{-6mm}
\end{figure}
